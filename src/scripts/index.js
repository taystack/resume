var EXP = {
  "python": {
    title: "Python",
    links: ["rest", "flask", "jinja", "sqlalchemy", "django", "git"],
    bits: "My first experience with the Python scripting language " +
          "was with Python Django. Later, in different applications, " +
          "I was exposed to SQLAlchemy as a database modeling layer. " +
          "Throughout this time, I had to have a basic understanding of " +
          "Python, but, it wasn't until the start-up I am working for " +
          "decided to pause frontend development until some backend " +
          "components were finished. I took it upon myself to learn " +
          "Python in the worst way. I found an unfinished API layer " +
          "for the HighriseHQ CRM, " +
          "<a href='https://github.com/seibert-media/Highton'>Highton.</a> " +
          "The project only had most GET methods. In " +
          "one weekend I implemented POST, PUT, and DELETE methods, as " +
          "well as finished the GET/<id> methods. The experience was " +
          "a success, and that monday I was ready for the shift in focus " +
          "towards a Python / API working environment."
  },
  "backbone": {
    title: "Backbone.js Framework",
    links: ["chaplin", "live", "coffee", "html5", "css3", "jade", "git", "rest", "jquery"],
    bits: "Backbone.js is a great web application framework. I learned the " +
          "Backbone.js architecture from using Chaplin.js, a framework " +
          "built on top of Backbon.js. I have used Backbone.js and it's " +
          "counterpart, <a href='https://github.com/paulmillr/exoskeleton'>" +
          "Exoskeleton.js</a> for most of my web developing experience and " +
          "find that these tools have very useful model/collection event " +
          "bindings and JSON data formats."
  },
  "jinja": {
    title: "Jinja Templates",
    links: ["python", "flask", "css3", "git", "html5", "django"],
    bits: "I totally dig the power of Jinja templates. I have used these " +
          "templates for a couple of Flask applications so far. " +
          "I love the macros available and things that are DRY are handsome."
  },
  "scss": {
    title: "Syntactically Awesome Stylesheets (sass)",
    links: ["jinja", "haml", "git", "jade"],
    bits: "This is important to write out."
  },
  "git": {
    title: "Git Revision Tool",
    links: ["python", "javascript", "css3", "html5", "linux", "sublime"],
    bits: "I have used Git for every project I have been a part of in my " +
          "professional career. I have a <a href='https://github.com/taystack" +
          "'>GitHub</a> account, in which I toss interesting projects, but " +
          "have also used Atlassian products like Bit Bucket and Stash " +
          "because of their integration value towards Jira, our workflow " +
          "manager. Every software tool I have used involved Git, which is " +
          "why you see the git icon on almost every tab."
  },
  "rest": {
    title: "Representative State Transfer (REST)",
    links: ["python", "flask", "sqlalchemy", "git", "django"],
    bits: "This is important to write out."
  },
  "chaplin": {
    title: "Chaplin.js Framework",
    links: ["backbone", "javascript", "live", "coffee", "git"],
    bits: "This is important to write out."
  },
  "coffee": {
    title: "CoffeeScript",
    links: ["backbone", "chaplin", "sublime", "git", "javascript"],
    bits: "This is important to write out."
  },
  "javascript": {
    title: "JavaScript",
    links: ["backbone", "chaplin", "live", "coffee", "git"],
    bits: "This is important to write out."
  },
  "html5": {
    title: "HyperText Markup Language (HTML)",
    links: ["backbone", "chaplin", "haml", "jade", "jinja", "git"],
    bits: "This is important to write out."
  },
  "css3": {
    title: "Cascading Style Sheets (CSS3)",
    links: ["backbone", "chaplin", "scss", "git", "html5"],
    bits: "This is important to write out."
  },
  "live": {
    title: "LiveScript",
    links: ["backbone", "chaplin", "sublime", "git", "javascript"],
    bits: "This is important to write out."
  },
  "haml": {
    title: "Haml Templates",
    links: ["backbone", "chaplin", "css3", "git", "coffee"],
    bits: "This is important to write out."
  },
  "ruby": {
    title: "Ruby",
    links: ["haml", "git"],
    bits: "This is important to write out."
  },
  "jade": {
    title: "Jade Templates",
    links: ["backbone", "chaplin", "jinja", "git", "html5"],
    bits: "This is important to write out."
  },
  "sqlalchemy": {
    title: "SQLAlchemy",
    links: ["python", "flask", "git", "rest", "django"],
    bits: "This is important to write out."
  },
  "django": {
    title: "Django Python",
    links: ["python", "jinja", "flask", "git", "rest", "sqlalchemy"],
    bits: "This is important to write out."
  },
  "jquery": {
    title: "jQuery",
    links: ["backbone", "chaplin", "javascript", "git", "rest", "html5", "css3"],
    bits: "There is much to say about this tool. " +
          "I`ve used jQuery in every web site / application I have ever spent " +
          "time on. I used it in this web site."
  },
  "grunt": {
    title: "Grunt.js Task Runner",
    links: ["git", "linux", "css3", "scss", "html5", "jade", "haml", "javascript", "coffee", "live"],
    bits: "This is important to write out."
  },
  "bower": {
    title: "Bower Package Manager",
    links: ["jquery", "node", "npm", "git"],
    bits: "Bower is, by far, the easiest way to install frontend dependencies"
  },
  "npm": {
    title: "Node Package Manager (NPM)",
    links: ["node", "bower", "javascript", "rest"],
    bits: "This is important to write out."
  },
  "node": {
    title: "Node.js",
    links: ["javascript", "html5", "css3", "git", "linux"],
    bits: "This is important to write out."
  },
  "less": {
    title: "less",
    links: ["css3", "scss", "html5", "git"],
    bits: "This is important to write out."
  },
  "linux": {
    title: "Linux Operating System",
    links: ["git", "node", "grunt"],
    bits: "I heard once that if you don't design on a Mac, you will get " +
          "laughed at. If you don't develop on Linux, you will get laughed " +
          "at. The tools readily available for Linux machines is amazing. " +
          "Getting the same developing environments running on Windows or Mac" +
          "is possible, but its janky and the edge cases are silly. Since " +
          "professional web application development, I only use windows for " +
          "testing IE or gaming."
  },
  "agile": {
    title: "Agile Methodology",
    links: [],
    bits: "I have spent my entire web development career in an Agile " +
          "development process. I spent my first year at Concordus " +
          "Applications Inc. developing within a <strong>Scrum</strong> " +
          "environment. The gears shifted towards a <strong>Kanban</strong> " +
          "process as more developers were added and defined teams began " +
          "surfacing. By the end of my second year, the company adapted a " +
          "hybrid <strong>Scrum / Kanban</strong> methodology and it worked " +
          "well for us."
  },
  "sublime": {
    title: "Sublime Text",
    links: ["git",
            "python",
            "css3",
            "scss",
            "html5",
            "jinja",
            "haml",
            "jade",
            "javascript",
            "live",
            "coffee"],
    bits: "I will never use another text editor again. Ever."
  },
  "flask": {
    title: "Flask Framework",
    links: ["python", "jinja", "scss", "git", "rest", "sqlalchemy"],
    bits: "I have used Flask for a couple of applications. I favor Flask for " +
          "applications with a heavy backend presence. Flask is a super " +
          "documented, BSD licensed framework and that makes developing " +
          "small web applications as easy as it can get."
  },
}

var _isCurrent = function(name) {
  if ($(".exp-detail").prop("data-name") === name) {
    // Go away.
    return true;

  } else {

    // Save the hash of related items.
    var hash = EXP[name];

    // Wipe the reference images.
    $(".detail-container").fadeOut(function() {
      $(".detail-link-item").remove();

      $(".exp-detail").prop("data-name", name);

      $(".detail-title").text(hash.title);

      var src = "../images/" + name + ".png";
      $(".detail-img").attr("src", src);

      $(".detail-bits").html(hash.bits);

      for (var _i = 0; _i < hash.links.length; _i++) {
        $(".detail-links-list").append(
            "<li class='detail-link-item'>" +
            "<img title='" + EXP[hash.links[_i]].title + "' src='../images/" + hash.links[_i] + ".png' " +
            "data-name='" + hash.links[_i] + "'/>" +
            "</li>"
          );
      }
      $(".detail-container").fadeIn();

    });
  }
}

var _makeDetails = function(name) {

  // $("#exp-top").smoothScroll();
  $.smoothScroll({
    // scrollElement: $('#exp-top'),
    scrollTarget: "#exp-top"
  });

  if (_isCurrent(name)) {
    // Go away.
    return;
  }

}

$(function() {

  $(".exp-item").on("click", function() {
    var name = $(this).find(".container").attr("data-hmm")
    // $(".experience-header").slideUp();
    $(".exp-detail").addClass("curious");
    _makeDetails(name);
    switch ($(this).hasClass("active")) {
      case true:
        break;

      case false:
        $(".exp-item.active").removeClass("active");
    }
    $(this).addClass("active");
  });

  $(".detail-links-list").on("click", ".detail-link-item > img", function(event) {
    var name = $(this).attr("data-name");

    _makeDetails(name);
  });

});